<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gesture Training - Gesture Control</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="gesture-training-style.css">
</head>
<body>

<!-- NAVBAR -->
<header class="navbar">
  <div class="logo">ğŸ– GestureControl</div>
  <div class="navbar-center"><span class="navbar-title">Gesture Training</span></div>
  <div class="theme-switch" id="themeToggle">
    <div class="switch-track"><div class="switch-thumb"><span class="switch-icon">ğŸŒ™</span></div></div>
  </div>
</header>

<!-- ROOT LAYOUT: sidebar | steps-panel | webcam-panel -->
<div class="layout" id="layout">

  <!-- LEFT SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <button id="sidebarToggle" class="collapse-btn">â˜°</button>
    </div>
    <button class="nav-btn" id="homeBtn">
      <span class="icon"><svg viewBox="0 0 24 24" class="nav-icon"><path d="M3 12L12 3l9 9"/><path d="M9 21V12h6v9"/><path d="M3 12v9h18V12"/></svg></span>
      <span class="text">Home</span>
    </button>
    <button class="nav-btn" id="controlBtn">
      <span class="icon"><svg viewBox="0 0 24 24" class="nav-icon"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="9" y1="3" x2="9" y2="21"/></svg></span>
      <span class="text">Control Screen</span>
    </button>
    <button class="nav-btn" id="navGestureListBtn">
      <span class="icon"><svg viewBox="0 0 24 24" class="nav-icon"><line x1="8" y1="6" x2="20" y2="6"/><line x1="8" y1="12" x2="20" y2="12"/><line x1="8" y1="18" x2="20" y2="18"/><circle cx="4" cy="6" r="1.5"/><circle cx="4" cy="12" r="1.5"/><circle cx="4" cy="18" r="1.5"/></svg></span>
      <span class="text">Gesture List</span>
    </button>
    <button class="nav-btn">
      <span class="icon"><svg viewBox="0 0 24 24" class="nav-icon"><circle cx="12" cy="12" r="3"/><path d="M12 2v3M12 19v3M4.9 4.9l2.1 2.1M16.9 16.9l2.1 2.1M2 12h3M19 12h3M4.9 19.1l2.1-2.1M16.9 7.1l2.1-2.1"/></svg></span>
      <span class="text">Settings</span>
    </button>
  </aside>

  <!-- STEPS PANEL -->
  <div class="steps-panel">

    <!-- Vertical step track -->
    <div class="steps-track">
      <div class="step-item active" id="si-1">
        <div class="step-dot">1</div>
        <span class="step-lbl">Name</span>
      </div>
      <div class="step-vline" id="vl-1"></div>
      <div class="step-item" id="si-2">
        <div class="step-dot">2</div>
        <span class="step-lbl">Preview</span>
      </div>
      <div class="step-vline" id="vl-2"></div>
      <div class="step-item" id="si-3">
        <div class="step-dot">3</div>
        <span class="step-lbl">Capture</span>
      </div>
      <div class="step-vline" id="vl-3"></div>
      <div class="step-item" id="si-4">
        <div class="step-dot">4</div>
        <span class="step-lbl">Save</span>
      </div>
    </div>

    <!-- Step cards -->
    <div class="step-cards">

      <!-- STEP 1 -->
      <div class="step-card active" id="step-1">
        <div class="card-icon-wrap">
          <svg viewBox="0 0 24 24" class="card-icon"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>
        </div>
        <h2 class="card-title">Name Your Gesture</h2>
        <p class="card-desc">Give this gesture a clear, recognisable name so you can identify it later.</p>
        <input type="text" class="name-input" id="gestureNameInput" placeholder="e.g. Swipe Left, Thumbs Upâ€¦" maxlength="32"/>
        <div class="char-count"><span id="charCount">0</span>/32</div>
        <button class="btn-primary full-w" id="toStep2Btn" disabled>
          Continue
          <svg viewBox="0 0 24 24" class="btn-arrow"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
        </button>
      </div>

      <!-- STEP 2: Preview -->
      <div class="step-card" id="step-2">
        <div class="card-icon-wrap">
          <svg viewBox="0 0 24 24" class="card-icon"><path d="M18 11V6a2 2 0 0 0-2-2 2 2 0 0 0-2 2"/><path d="M14 10V4a2 2 0 0 0-2-2 2 2 0 0 0-2 2v2"/><path d="M10 10.5V6a2 2 0 0 0-2-2 2 2 0 0 0-2 2v8"/><path d="M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"/></svg>
        </div>
        <h2 class="card-title">Preview <span class="name-highlight" id="gestureNameDisplay"></span></h2>
        <p class="card-desc">Position your hand clearly in the camera frame and hold the gesture steady.</p>
        <div class="step-actions">
          <button class="btn-secondary" id="backToStep1Btn">â† Back</button>
          <button class="btn-primary" id="toStep3Btn">
            Ready
            <svg viewBox="0 0 24 24" class="btn-arrow"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
          </button>
        </div>
      </div>

      <!-- STEP 3: Capture -->
      <div class="step-card" id="step-3">
        <div class="card-icon-wrap">
          <svg viewBox="0 0 24 24" class="card-icon"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="3"/></svg>
        </div>
        <h2 class="card-title">Capture</h2>
        <p class="card-desc">Press Start â€” hold your gesture steady while recording.</p>

        <!-- Status area -->
        <div class="capture-status">
          <div class="c-state" id="captureIdle">
            <div class="idle-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg></div>
            <p class="idle-text">Ready when you are</p>
          </div>
          <div class="c-state hidden" id="captureLoading">
            <div class="loading-lbl" id="loadingLabel">Recording gestureâ€¦</div>
            <div class="loading-bar-wrap"><div class="loading-bar-fill" id="loadingBarFill"></div></div>
            <div class="loading-pct" id="loadingPct">0%</div>
          </div>
          <div class="c-state hidden" id="captureSuccess">
            <div class="success-circle">
              <svg viewBox="0 0 24 24" class="success-tick"><polyline points="20 6 9 17 4 12"/></svg>
            </div>
            <p class="success-text">Gesture recorded!</p>
          </div>
        </div>

        <button class="btn-capture" id="startCaptureBtn">
          <span class="capture-ring"></span>
          <svg viewBox="0 0 24 24" class="capture-icon"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>
          Start Recording
        </button>

        <div class="step-actions">
          <button class="btn-secondary" id="backToStep2Btn">â† Back</button>
          <button class="btn-primary" id="toStep4Btn" disabled>
            Continue
            <svg viewBox="0 0 24 24" class="btn-arrow"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
          </button>
        </div>
      </div>

      <!-- STEP 4: Save -->
      <div class="step-card" id="step-4">
        <div class="card-icon-wrap success-wrap">
          <svg viewBox="0 0 24 24" class="card-icon"><polyline points="20 6 9 17 4 12"/></svg>
        </div>
        <h2 class="card-title">Save Gesture</h2>
        <p class="card-desc">Review then confirm or discard.</p>

        <div class="summary-card">
          <div class="summary-row">
            <span class="summary-lbl">Gesture Name</span>
            <span class="summary-val" id="summaryName">â€”</span>
          </div>
          <div class="summary-div"></div>
          <div class="summary-row">
            <span class="summary-lbl">Total Gestures</span>
            <span class="summary-val accent" id="summaryTotal">â€”</span>
          </div>
        </div>

        <button class="btn-confirm" id="confirmSaveBtn">
          <svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>
          Confirm Save
        </button>
        <button class="btn-delete" id="deleteNewBtn">
          <svg viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
          Delete New Gesture
        </button>

        <div class="save-actions">
          <button class="btn-secondary" id="backToStep3Btn">â† Back</button>
          <button class="btn-secondary nav-action locked" id="goGestureListBtn">
            <svg viewBox="0 0 24 24" class="btn-icon-sm"><line x1="8" y1="6" x2="20" y2="6"/><line x1="8" y1="12" x2="20" y2="12"/><line x1="8" y1="18" x2="20" y2="18"/><circle cx="4" cy="6" r="1.5"/><circle cx="4" cy="12" r="1.5"/><circle cx="4" cy="18" r="1.5"/></svg>
            Gesture List
          </button>
          <button class="btn-secondary nav-action locked" id="trainAnotherBtn">Train Another</button>
        </div>
      </div>

    </div>
  </div>

  <!-- WEBCAM PANEL -->
  <div class="webcam-panel" id="webcamPanel">
    <div class="webcam-header">
      <span class="webcam-label">Live Preview</span>
      <span class="webcam-badge">LIVE</span>
    </div>
    <div class="webcam-feed">
      <div class="webcam-feed-inner">
        <div class="webcam-placeholder">
          <svg viewBox="0 0 24 24" class="webcam-icon"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>
          <p class="wc-label">Camera feed</p>
          <p class="wc-sub">Backend renders the live feed here</p>
        </div>
        <div class="hand-guide"><div class="guide-box"></div></div>
      </div>
    </div>
    <div class="webcam-footer">
      <div class="wc-dot"></div>
      <span class="wc-status">Waiting for gestureâ€¦</span>
      <span class="wc-divider" id="wcDivider">|</span>
      <span class="wc-gesture-name" id="wcGestureName"></span>
    </div>
  </div>

</div>

<script src="gesture-training-script.js"></script>
</body>
</html>
